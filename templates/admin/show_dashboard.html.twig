{% extends "base.html.twig" %}

{% block title %}Tableau de bord
{% endblock %}

{% block body %}

	<h1 class="text-center my-3">Tableau de bord</h1>

	{# Flashes #}
	<div class="row">
		<div class="col-6 mx-auto">

			{% include "include/_flashes.html.twig" %}

		</div>
	</div>

	{# Buttons #}
	<div class="row my-5 mx-auto justify-content-evenly col-10">

		<div class="col-4 text-center">
			<a class="btn btn-outline-dark " href="{{ path('create_chambre') }}">Ajouter une chambre</a>
		</div>

		<div class="col-4 text-center">
			<a class="btn btn-outline-dark " href="{{ path('show_archives') }}">Voir les archives</a>
		</div>

		<div class="col-4 text-center">
			<a class="btn btn-outline-dark " href="{{ path('show_contact') }}">Voir les demandes</a>
		</div>

	</div>


	<div class="row">

		<div class="col-10 mx-auto my-4">

			<h2 class="text-center">Tous les membres</h2>

			<table class="table">
				<thead class="table-dark">
					<tr>
						<th class="text-center">#</th>
						<th class="text-center">Rôle</th>
						<th class="text-center">Prénom</th>
						<th class="text-center">Nom</th>
						<th class="text-center">Email</th>
						<th class="text-center">Civilité</th>
						<th class="text-center">Options</th>
					</tr>
				</thead>
				<tbody>

					{% for membre in membres %}

						<tr>
							<td class="text-center">{{ membre.id }}</td>
							<td class="text-center">{{ membre.roles | first }}</td>
							<td class="text-center">{{ membre.prenom }}</td>
							<td class="text-center">{{ membre.nom }}</td>
							<td class="text-center">{{ membre.email }}</td>
							<td class="text-center">{{ membre.civilite}}</td>
							<td class="text-center">

								<a href="{{ path('update_membre', {'id': membre.id}) }}" class="text-warning" title="Modifier le membre">
									<i class="fa fa-user-edit"></i>
								</a>

								<a href="{{ path('soft_delete_membre', {'id': membre.id}) }}" class="text-danger" title="Archiver le membre" onclick="return confirm('Voulez-vous archiver ce membre ?')">
									<i class="fa fa-trash"></i>
								</a>

							</td>
						</tr>

					{% endfor %}

				</tbody>
			</table>
		</div>
	{% endblock %}
